% ********** Chapter 1 **********
\chapter{Einleitung}
\label{sec:intro}

Dieses Kapitel soll die Firma \emph{1\&1 Internet AG} in k"urze Vorstellen sowie
den Kontext, in welchem diese Arbeit erstellt wurde, erl"autern. Desweiteren wird 
die Aufgabenstellung und der Aufbau dieses Dokumentes beschrieben.

\section{Umfeld der Aufgabe}
\label{sec:intro:kontext}

Die \emph{1\&1 Internet AG} (1\&1) ist eine einhunderprozentige Tochter der 
\emph{United Internet AG} (UI) und deckt innerhalb der Firmengruppe die Produktbereiche Informationsmanagement,
Internet Access und Webhosting ab. Die Produkte und Gech"aftsprozesse als solches werden
nicht nur unternehmensintern sondern auch in enger Zusammenarbeit mit anderen Marken
der UI entwickelt. Daraus erw"achst die Notwendigkeit Softwaresysteme nach au\ss en
verf"ugbar zu machen, was durch verst"arkten Einsatz dienstebasierter 
Softwarearchitekturen (\emph{Serviceorientierte Architektur} - SOA, siehe \ref{sec:background:soa}) erreicht wird.

Die Abteilung \emph{i::Dev}, in welcher diese Diplomarbeit erstellt wurde, entwickelt
haupts"achlich Anwendungen zur internen Verwendung. Sie betreut unter anderem 
die komplette Rechteverwaltung f"ur das Intranet der UI sowie eine Vielzahl von
weiteren Applikationen, von Datenbankfrontends f"ur den Support "uber eine Dokumentenverwaltung,
welche alle Kundenfaxe enth"alt, bis hin zu Projektmanagement- und Statistikanwendungen.

Hierzu wird haupts"achlich die Skriptsprache PHP (vgl. \ref{sec:background:php}) eingesetzt, da diese sehr schnelle 
Entwicklungszyklen erlaubt, und nicht zuletzt weil dadurch sehr viel historisch vorhandener
PHP-Quelltext wiederverwendet werden kann. Weiterhin werden im Zuge der Umstellung auf SOA viele neue 
Dienste in Java implementiert, da Java sich aufgrund schon vorhandener L"osungen und Technologien besser 
als PHP f"ur diese Art der Entwicklung eignet. 

\section{Aufgabenstellung}
\label{sec:intro:assignment}

Ziel dieser Arbeit ist die Entwickung eines Softwaresystems, das es erlaubt PHP-Skripte innerhalb eines 
\emph{Java Enterprise Edition Application Servers} als \emph{Enterprise Java Beans} auszuf"uhren. Zum Einen
um einem PHP-Anwender die Vorteile eines solchen Application Servers und der Programmiersprache Java mit
all ihren existierenden Technologien und Bibliotheken zug"anglich zu machen, und zum Anderen um die
Kommunikation und den Datenaustausch zwischen diesen beiden Welten zu vereinfachen, was beiden Seiten
gro\ss en Nutzen bringen kann.
Hierzu muss eine geeignete Schnittstelle zwischen Java und PHP, sowie M"oglichkeiten des Datenaustausches zwischen
den Laufzeitumgebungen der beiden Programmiersprachen gefunden werden. Innerhalb dieser PHP-Skripte soll ein 
Zugriff auf
m"oglichst den kompletten Funktionsumfang der Java Virtual Machine m"oglich sein, und
auf die derart ausgef"uhrten Skripte soll der Zugriff von au\ss en "uber
die "ublichen Enterprise Java Schnittstellen wie \emph{RMI} erfolgen k"onnen. Hierzu wird ein Mechanismus ben"otigt,
welcher neben dem Datenaustausch auch den Methodenaufruf sowohl von Java nach PHP, als auch auf umgekehrtem Wege 
erlaubt. F"ur den Austausch von Daten muss eine Konvention gefunden werden, die Typkonversionen sowohl simpler (skalarer),
als auch komplexer Datentypen zwischen den beiden Programmiersprachen festlegt. Komplexe Datentypen wie Objekte und
Arrays sollen in der jeweils anderen Programmiersprache nicht nur als Kopie, sondern als Referenz zug"anglich sein,
und der Aufruf von Methoden und der Zugriff auf Attribute soll in der jeweiligen Wirtsprogrammiersprache m"oglichst 
transparent und intuitiv m"oglich sein.
Besonderen Wert wird auf den einfachen Einsatz dieses Softwaresystems gelegt; so soll der Anwender
seine geschriebenen PHP-Beans m"oglichst ohne zus"atzlichen, immer gleichen Code ausbringen
k"onnen (\emph{easy deployment}). Es sollen die wichtigsten Java Enterprise Technologien wie
\emph{Entity-, Session- und Message-Driven-Beans} unterst"utzt werden, und die L"osung soll unabh"angig von der
verwendeten PHP-Version funktionieren. Ein wesentlicher Gesichtspunkt ist die Auswahl eines geeigneten Standards
zur Skriptintegration in Java, es sollen bestehende L"osungen betrachtet und vorhandene Standards hinsichtlich ihrer
Einsatzm"oglichkeiten analysiert werden. 
Diese Aufgabenstellung soll lediglich einen Rahmen der zu erreichenden Ziele stecken, das System soll 
leicht um weitere Anforderungen erweiterbar sein, was den Forschungscharakter der Diplomarbeit unterstreicht.

\clearpage

\section{Struktur}
\label{sec:intro:structure}

An dieser Stelle soll ein Einblick in die Struktur dieser Diplomarbeit gew"ahrt und zu jedem Teilabschnitt eine
kurze Erl"auterung des jeweiligen Inhaltes gegeben werden.
Das vorliegende Dokument unterteilt sich in folgende Kapitel:

\begin{enumerate}
    \item \textbf{Einleitung}
    \item \textbf{Grundlagen}. Dieses Kapitel bietet eine Einf"uhrung in bereits vorhandene Technologien, die entweder
    f"ur die L"osung der Aufgabe relevant sind, oder aber Alternativen zu den verwendeten Technologien darstellen.
    Ausserdem werden Begrifflichkeiten f"ur den weiteren Verlauf des Dokumentes eingef"uhrt und erkl"art.
    \item \textbf{Java und Skriptsprachen}. Hier wird erl"autert auf welche Arten und Weisen Skriptsprachen 
    prinzipiell in Java eingebettet werden k"onnen. Es werden zwei weit verbreitete Standards vorgestellt und es wird
    erl"autert welche Technologie bei der Realisierung der Aufgabe den Vorzug erhielt.
    \item \textbf{Java und PHP}. In diesem Kapitel soll eine JSR 223-Implementierung f"ur PHP namens \emph{Turpitude} 
    entworfen und erarbeitet werden. Hierzu wird zun"achst
    die Aufgabe analysiert und die Anforderungen die diese stellt er"ortert. Diese Anforderungen werden dann genutzt,
    um das Vorgehen bei der Implementierung zu planen, und um eine Architektur zu entwerfen, die diese Anforderungen
    m"oglichst komplett erf"ullt. Schliesslich werden die gewonnenen Erkenntnisse genutzt, um die erarbeitete Vorgehensweise
    in die Tat umzusetzen und eine Bibliothek zu erstellen, die es dem Anwender erlaubt PHP-Skripte in Java auszuf"uhren,
    Daten an diese Skripte zu senden, aus Java heraus PHP-Funktionen aufzurufen, und aus diesen Skripten heraus widerum
    Java-Funktionalit"at zu nutzen.
    \item \textbf{JBoss und PHP}. Dieses Kapitel soll eine m"ogliche Anwendung f"ur Turpitude erarbeiten, 
    um einen kleinen Teil der M"oglichkeiten die diese Bibliothek bietet aufzuzeigen. Konkret wird die Bibliothek
    in einem Java Application Server eingesetzt um verschiedene Enterprise Beans in PHP zu implementieren.
    \item \textbf{Fazit und Ausblick}. Dieser Abschnitt fasst die geleistete Arbeit zusammen und kl"art
    in wie weit die Aufgabenstellung erf"ullt wurde, und welche Einsatzm"oglichkeiten noch f"ur die entwickelte 
    Technologie denkbar sind.
    \item \textbf{Anh"ange}. In den Anh"angen findet der Leser eine ausf"uhrliche Dokumentation der Bibliothek, sowohl des
    Java- als auch des PHP-Teiles, sowie eine Einf"uhrung in Verzeichnis- und Dateistruktur des beiliegenden
    Datentr"agers.
\end{enumerate}


% ********** End of chapter **********
