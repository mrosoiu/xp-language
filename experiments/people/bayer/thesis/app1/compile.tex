% ********** Appendix 1 **********
\subsection{Skripte "Ubersetzen}
\label{sec:app1:compile}

Anstatt Skripte st"andig zu laden und auszuf"uhren bietet Turpitude auch die M"oglichkeit
ein Skript einmal zu "ubersetzen und dann mehrfach auszuf"uhren. Hierzu implementiert
die ScriptEngine das JSR223-Interface \emph{javax.script.Compilable}. Um ein Skript
zu "ubersetzen muss statt \emph{eval()} die Methode \emph{compile()} aufgerufen werden:
\begin{lstlisting}[caption="Ubersetzen eine Skriptes]
Compilable comp = (Compilable)eng;
CompiledScript script = comp.compile(src);
\end{lstlisting}
Ein derart "ubersetztes Skript l"a\ss t sich beliebig oft ausf"uhren:
\begin{lstlisting}[caption=Ausf"uhren des "ubersetzten Skriptes]]
for (int i=0; i<5; i++) {
    System.out.println("executing " + i);
    script.eval();
}
\end{lstlisting}
Auch bei "ubersetzten Skripten gelten die Regeln Besonderheiten aus den vorhergehenden
Beispielen.

Der Quelltext dieses Programmes befindet sich in der Datei \emph{CompileSample.java}, 
und kann mittels des Befehls \emph{make compiledscript} ausgef"uhrt werden.

% ********** End of appendix **********
