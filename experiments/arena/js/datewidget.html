<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
  Javascript Experiment: A date selection widget
  
  $Id$
-->
<html>
  <head>
    <title>Javascript Experiment: Date "widget"</title>
    <script language="JavaScript" src="skeleton/lang.base.js"></script>
    <script language="JavaScript" src="skeleton/lang/Exception.class.js"></script>
    <script language="JavaScript" src="skeleton/text/parser/DateParser.class.js"></script>
    <script language="JavaScript" src="skeleton/text/PrintfFormat.class.js"></script>
    <script language="JavaScript" src="skeleton/lang/String.adaptor.js"></script>
    <script language="JavaScript" src="skeleton/util/Date.adaptor.js"></script>
    <script language="JavaScript">
      function changeDate(object, days) {
        var date= null;

        try {
          date= new DateParser(document.forms.select.date.value).getDate();
        } catch (Exception) {
          date= new Date();
        }
        object.value= date.add(0, 0, days).format('%d.%m.%Y');
      }
    </script>
  </head>
  <body onload="changeDate(document.forms.select.date, 0)">
    <form name="select">
      <table>
        <tr>
          <td><input type="text" name="date" value="" onBlur="changeDate(document.forms.select.date, 0)"/></td>
          <td>
            <a 
              onclick="changeDate(document.forms.select.date, 1)" 
              href="#"
            ><img border="0" src="image/date_plus.gif"/></a>
            <br/>
            <a 
              onclick="changeDate(document.forms.select.date, -1)" 
              href="#"
            ><img border="0" src="image/date_minus.gif"/></a>
          </td>
        </tr>
      </table>
    </form>
  </body>
</html>
