<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
  Javascript Experiment: Combo box
  
  $Id$
-->
<html>
  <head>
    <title>Javascript Experiment: Combo box widget</title>
    <script language="JavaScript">
      function toggle(element) {
        with (document.getElementById(element).style) {
          visibility= ('visible' == visibility) ? 'hidden' : 'visible';
        }
      }
      
      function handleKeyPress(object, e) {
        var comboVisibile= ('visible' == document.getElementById('combo').style.visibility);

        switch (e.keyCode) {
          case 40:  // Down
            if (!comboVisibile) {
              toggle('combo');
              document.forms.test.select.focus();
            }
            break;
          
          default:
            return true;
        }
        
        return false; // Indicate we processed this
      }

    </script>
  </head>
  <body>
    <form name="test">
      <input type="text" name="input" style="width: 140px" onKeyup="handleKeyPress(this, event);"/><input type="button" value="v" style="width: 20px" onclick="toggle('combo')"/>
      <div id="combo" style="visibility: hidden">
        <select name="select" style="width: 160px" size="6" onChange="document.forms.test.input.value= this.options[this.selectedIndex].value;">
          <option>Hello</option>
          <option>World</option>
          <option>World2</option>
          <option>World3</option>
          <option>Foo</option>
          <option>Bar</option>
          <option>Baz</option>
          <option>XP</option>
        </select>
      </div>
    </form>
  </body>
</html>
