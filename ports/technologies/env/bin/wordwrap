#!/usr/local/bin/php -qC
<?php
  $filename= 'php://stdin';
  if (!empty($_SERVER['argv'][1]) && '-' != $_SERVER['argv'][1]) {
    $filename= $_SERVER['argv'][1];
  }
  $wrap= isset($_SERVER['argv'][2]) ? intval($_SERVER['argv'][2]) : 72;
  
  $fd= fopen($filename, 'r');
  $content= '';
  while (!feof($fd) && $line= fgets($fd)) $content.= $line;
  fclose($fd);
  
  echo wordwrap($content, $wrap);
?>
