#!/bin/sh

SELF=$(realpath $0)
BASE=$(dirname "$SELF")
. $BASE/common.inc.sh

CMD=
for PARAM in "$@"; do
  if [ -f "$PARAM" ]; then
    CMD=$CMD" $PARAM"
  elif [ -f `echo $PARAM | cut -d : -f 1` ]; then
    CMD=$CMD" -line `echo $PARAM | cut -d : -f 2` `echo $PARAM | cut -d : -f 1`"
  else
    IFS=$_XP_PATH_SEPARATOR
    FOUND=0
    for DIR in $_XP_INCLUDE_PATH; do 
      FILE=`echo $PARAM | tr . /`
      if [ -f "$DIR/$FILE.class.php" ]; then
        CMD=$CMD" "$(unixpath "$DIR/$FILE.class.php")
        FOUND=1
        break
      fi
    done
    if [ "0" = "$FOUND" ] ; then
      CMD=$CMD" "$PARAM
    fi
    IFS=' '
  fi
done

nedit $CMD &
