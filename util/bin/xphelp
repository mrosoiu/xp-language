#!/bin/sh

##
# This file is part of the XP framework
#
# xphelp: Context-sensitive help plugin for NEdit (http://nedit.org/)
#
# $Id$

BROWSER=galeon

# Read input
read KEYWORD
if [ "" = "$KEYWORD" ] ; then
  exit
fi

# Check for filename
EXTENSION=`echo $1 | sed -E 's/.+\.([a-z]+)$/\1/g'`

case $EXTENSION in
  java)
    URL="http://javadoc.xp-framework.net/search/?type=c&pattern=$KEYWORD"
    ;;
  
  php)
    if [ "--xp" = "$2" ] ; then
      URL="http://xp-framework.net/search.php?keyword=$KEYWORD"
    else
      URL="http://php3.de/manual-lookup.php?pattern=$KEYWORD&lang=en"
    fi
    ;;
  
  *)
    echo "Unknown extension '$EXTENSION'"
    exit 1
    ;;
esac

$BROWSER $URL 1>/dev/null 2>/dev/null &
exit $?
