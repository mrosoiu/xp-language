XP Framework ChangeLog
========================================================================
$Id$

Version ?.?.?, released ????-??-??
----------------------------------
SVN version: ?????

Heads up!
~~~~~~~~~
- Removed net.xp_framework.website from ports (now resides in xpadmin
  repository, web/src)
  (friebe)


Version 5.7.2, released 2009-03-27
----------------------------------
SVN version: 12947

Heads up!
~~~~~~~~~
- Removed xp-net.xp_framework-{VERSION}.xar from boot classpath. It is
  no longer required for runners, that's all in xp-tools-${VERSION}.xar.
  See http://news.xp-framework.net/article/290/2009/03/27/
  (friebe)

RFCs
~~~~
- Implemented RFC #0087 - Move class details information to ClassLoader
  (friebe)
- Implemented RFC #0174 - io.collections interface additions / io.streams 
  integration
  (friebe)

Features
~~~~~~~~
- Added lang.Primitive::wrapperClass() method
  (friebe)
- Included type information in unittest.AssertionFailedError's message
  See http://news.xp-framework.net/article/291/2009/03/28/
  (friebe)
- Included prerequisites in unittest.PrerequisitesNotMetError's message
  (friebe)
- Added lang.reflect.Package::getSimpleName() which complements 
  lang.XPClass::getSimpleName()
  (friebe)
- Added util.log.StreamAppender to use streams as log appender
  (hinckel)
- Added io.streams.ChannelInputStream and io.streams.ChannelOutputStream 
  classes that read from / write to stdin, stdout and stderr
  (friebe)
- Made peer.ftp.FtpConnection constructor accept not only strings but also
  peer.URL objects - same as in peer.http.HttpConnection
  (friebe)
- Implemented feature suggested in bug #31 - Allow Numbers in Scriptlet
  States
  (friebe)
- Added io.collections.ArchiveCollection class to work with XARs
  (friebe)
- Added support for enums to the Remote API (EASC)
  See http://news.xp-framework.net/article/287/2009/01/28/
  (hinckel, friebe)
- Made lang.XPClass::isSubclassOf() accept not only a string with the 
  classname but also XPClass objects
  (friebe)

Bugfixes
~~~~~~~~
- Fixed xp::stringOf() to not incorrectly detect recursion with objects 
  returning hashcodes which are very large numbers
  (friebe)
- Fixed dataset generator to use prefixed XML file names when accessing
  referenced tables for foreign keys
  (gellweiler, hinckel)
- Fixed WSDL code generator: replace "." with "_" and upper case first
  letter in generated class names
  (wagner, hinckel)
- Fixed org.fpdf.FPDF::writeCells() when writing justified cells
  (friebe, Tobias Roth, Thomas Geiger)
- Use "etc" directory as default configuration path for xpcli command
  (hinckel)
- Fixed rdbms.mysql.MySQLDBAdapter did not handle '"' quotes (bug #34)
  (wagner)
- Fixed util.Date::hashCode() returns timestamp now instead of object id.
  (wagner)
- Made /proc lookup inside lang.Process::getProcessById() work on 
  FreeBSD 7 - the link is /proc/$PID/file instead of /proc/$PID/exe
  (friebe, wagner)
- Fixed bug #33 - Parse error for comments having a line ending with "]" 
  (friebe)
- Fixed io.File::write() and io.File::writeLine() to throw an IOException
  if the underlying file handle has been closed
  (friebe)
- Fixed io.streams.FileInputStream and io.streams.FileOutputStream not 
  to close underlying file when they get garbage-collected.
  (friebe)
- Fixed remote interface mapping when creating the remote interface in the
  remote API
  (hinckel)
- Fixed util.Locale::setDefault() fatalling when the given locale does
  not exist (and while trying to throw an exception).
  (friebe)
- Fixed scriptlet.xml.XMLScriptletRequest not handling URLs handled
  by rewrite rules such as RewriteRule ^/category/([0-9]+)/.*$ /index.php 
  [E=PRODUCT:news,E=LANGUAGE:en_US,E=STATE:bycategory,E=CATID:$1,PT]
  (friebe)
- Fixed lang.Process thinking it would be able to execute directories 
  which would simply fail later on.
  (friebe)
- Fixed leftover of refactoring of peer.mail.MessagingAddress 
  interface in peer.mail.transport.SmtpTransport
  (gellweiler, reuter, kiesel)


Version 5.7.1, released 2009-01-23
----------------------------------
SVN version: 12768 

Heads up!
~~~~~~~~~
- Deprecated SOAP_ACTION_* global constants in 
  webservices.soap.transport.SOAPHTTPTransport class in favor of
  class constants in same class.
  (kiesel)

RFCs
~~~~
- Implemented RFC #0176 - Scriptlet URL handler classes
  (hinckel)

Bugfixes
~~~~~~~~
- Fixed net.xp_framework.unittest.bootstrap package to work with paths
  with spaces inside
  (friebe)
- Fixed peer.ftp.DefaultFtpListParser to return correct dates for entries
  listed with compact format ("Apr 4 20:16" instead of "Apr 4 2009")
  (friebe, hinckel)
- Fixed io.File's members filename, dirname and extension being set from
  original URI instead of resolved one
  (friebe)
- Fixed bug #30 - recursive class loading in static initializer 
  (friebe)
- Fixed error in rdbms.sybase.SybaseDialect, the cast SQL function had 
  flipped arguments.
  (wagner)
- Set default encoding in JsonMessage to UTF-8 since JsonEncoder/
  JsonDecoder always encodes stuff in UTF-8
  (hinckel)
- Fixed WebdavClient::put() method to explicitely pass a RequestData 
  object to HttpConnection's put() method
  (hinckel)

Features
~~~~~~~~
- Added support to unittest command to run all non-abstract TestCase
  classes inside a package (e.g. unittest my.package.name.*')
  (friebe)
- Added -e option to unittest command to evaluate assertions directly 
  from the command line (e.g. unittest -e '$this->assertTrue(TRUE);')
  (friebe)
- Increased verbosity in unittest.TestCase's methods assertClass() and 
  assertSubclass() in case given variable is not instanceof Generic
  (friebe)
- Changed lang.Thread to not forget process id of forked children after
  it has been stopped or exited
  (kiesel, friebe)


Version 5.7.0, released 2008-11-24
----------------------------------
SVN version: 12656

Heads up!
~~~~~~~~~
- Deprecated util.cmd.Runner class, this is now in xp.command in the 
  tools-xar (part of RFC #0173 implementation)
  (friebe)
- Removed class util.profiling.ClassProfiler
  (kiesel)
- Deprecated LOGGER_* global constants in util.log.LogCategory in favor
  of class constants in util.log.LogLevel
  (friebe)
- Deprecated HTTP_* global constants in peer.http.HttpConstants in favor
  of class constants
  (friebe)
- Removed package util.io and class util.io.VirtualFileManager and
  io.EmbeddedFile
  (kiesel)
  
RFCs
~~~~
- Implemented RFC #0173 - xp-tools.xar
  (friebe)
- Implemented RFC #0164 - Exceptions for XPClass::get*()
  (friebe)

Bugfixes
~~~~~~~~
- Fixed img.util.ExifData::flashUsed() method
  (friebe)
- Fixed unittest.AssertionFailedError not to hide the actual location
  in the stacktrace.
  (friebe)
- Made message part optional in HTTP status response when parsing it in
  peer.http.HttpResponse::readHeader()
  (hinckel)
- Fixed functionality of peer.ldap.LDAPQuery::getAttrsOnly()
  (wagner)

Features
~~~~~~~~
- Switched from is_callable() to method_exists() in classloading parts 
  of the core for performance reasons.
  (friebe)
- Added support for io.streams API to StreamReader and StreamWriter
  from the img.io package (keeping backwards compatibility)
  http://news.xp-framework.net/article/279/2008/10/21
  (friebe)
- Added peer.ftp.collections package - bridge between peer.ftp and 
  io.collections
  (friebe)
- Added lang.XPClass::getSimpleName() 
  (friebe)
- Made multiple forward-compatibility related adjustments
  (friebe, kiesel)
- Added peer.ldap.LDAPQuery::setAttrsOnly()
  (wagner)


Version 5.6.9, released 2008-09-03
----------------------------------
SVN version: 12451

Heads up!
~~~~~~~~~
- Removed disfunctional unittest.coverage package
  (friebe)
- Deprecated lang.Collection class - Use lang.types.ArrayList or the 
  classes from util.collections instead
  (friebe)
- Deprecated util.DateInterval in favor util.TimeInterval
  (friebe)

RFCs
~~~~
- Implemented RFC #0171 - Rename util.DateInterval class
  (friebe)
- Implemented RFC #0169 - New package unittest.web
  (friebe)

Bugfixes
~~~~~~~~
- Fixed text.encode.QuotedPrintable to encode question marks
  (treuter)
- Fixed lang.types.Number::equals() to return false for different types
  with same values (new Integer(1)->equals(new Long(1)) no longer yields
  TRUE now).
  (friebe)
- Made util.DateMath::diff() produce correct results (fixed segfault
  for PHP 5.2.6).
  (kiesel)

Features
~~~~~~~~
- Added util.collections.Arrays class: extension methods and bridging
  between lang.types and util.collections.
  (friebe)
- Added annotation accessors to lang.reflect.Field: hasAnnotation(),
  getAnnotation(), hasAnnotations(), getAnnotations()
  (friebe)
- Added XML declaration to debug output at sapi scriptlet.development
  (kiesel)
- Moved xml.wsdl to net.xp_framework.wsdl; this package only contained
  wsdl.xsl - so no code affected.
  (kiesel)


Version 5.6.8, released 2008-08-03
----------------------------------
SVN version: 12409

Heads up!
~~~~~~~~~
- Completely refactored the peer.http API to be able to nicely 
  implement RFC #0162.
  (friebe)
- HttpConnection::put() method explicitely required now a RequestData
  object as argument to upload a file, instead of just passing the data
  string
  (hinckel)

RFCs
~~~~
- Implemented RFC #0162: HTTP proxy
  (friebe)

Bugfixes
~~~~~~~~
- Fixed peer.ftp API to be able to cope with numerous FTP servers
  (friebe)
- Fixed fatal error when XPClass::isEnum() had been used before
  lang.Enum has actually been loaded
  (kiesel)
- Fixed off-by-one error when reading chunked http response bodies and
  added a unittest for this
  (kiesel, hinckel)
- Added missing function rdbms.Peer::getTable() which is used in
  rdbms.DataSet class
  (hinckel)
- Made lang.ClassLoader::loadClass() raise a ClassFormatException in
  case the included file does not declare the class.
  (friebe)

Features
~~~~~~~~
- Added lang.reflect.Field::set() method
  (friebe)
- Made peer.Socket instances cloneable
  (friebe)
- Made peer.URL constructor parameter optional
  (friebe)
- Extended util.MimeType class to include types for various programming
  languages.
  (friebe)
- Added 503 error page to scriptlet SAPI
  (friebe)
- Added pushBack() method to text.Tokenizer class and its implementations
  (friebe)


Version 5.6.7, released 2008-06-09
----------------------------------
SVN version: 12285

Heads up!
~~~~~~~~~
- Deprecated xml.XML class
  (friebe)

RFCs
~~~~
- Implemented RFC #0166: XP Runners
  (friebe)
- Implemented RFC #0165: New text.regex package
  (friebe)
- Implemented RFC #0163: Respect ANSI SQL in rdbms package
  (kiesel)
- Implemented RFC #0157: Make product, language and session optional 
  URL parts
  (kiesel)
  
Bugfixes
~~~~~~~~
- Fixed FtpConnection::getDir() function by passing FTP connection object
  to FtpDir constructor
  (hinckel)
- Fixed _recurseData() in XPSoapMessage to handle arrays vs. objects
  correctly
  (hinckel)
- Made HttpScriptlet::process() rethrow HttpScriptletExceptions as-is,
  while any other exception is wrapped into a HttpScriptletException.
  (friebe).
- Fixed bug when scriptlet.xml.workflow.casters.ToDate accepted an
  abbreviated date, interpreted it as a time and used the
  current date with given time instead the given date
  (kiesel)
- Fixed session id initialization in XMLScriptletRequest::initialize()
  (hinckel)
- Fixed rdbms.Record::set() method
  (Michael Bayer, kiesel)

Features
~~~~~~~~
- Added lang.Process::newInstance() method
  http://news.xp-framework.net/article/258/2008/05/28/New_Process
  (friebe)
- Added " @ {host}" to rdbms.SQLConnectionClosedException's message
  (friebe)
- Changed XAR file format (BC-break-free) to be less memory-consuming,
  platform-independent and get rid of original filename junk
  (friebe)
- Added a parameter "bool append" (defaulting to FALSE) to 
  io.streams.FileOutputStream's constructor
  (friebe)
- Made io.streams.FileInputStream and io.streams.FileOutputStream's
  constructors accept either an io.File or a string with the filename
  (friebe)
- Added syntactical support in text.doclet.markup API for ordered and
  unordered lists.
  (friebe)


Version 5.6.6, released 2008-04-23
----------------------------------
SVN version: 12077

Heads up!
~~~~~~~~~
- Changed xpcli / util.cmd.Runner argument passing - argv[0] should not be
  passed to Runner::main()
  (friebe)
- Deprecated addMinutes(), addHours(), addDays() methods in util.TimeSpan
  (gellweiler)
- Backwards incompatible changes in lang.reflect package
  http://news.xp-framework.net/article/240/2008/03/08/BC
  (friebe)
- Removed deprecated lang.reflect.Argument class and corresponding 
  methods in lang.reflect.Routine
  (friebe)

RFCs
~~~~
- Implemented RFC #0160: xml.IXSLProcessor::setXMLTree() / setXSLTree()
  (friebe)
- Implemented RFC #0156: Constructor::newInstance()
  (friebe)
- Implemented RFC #0155: lang.reflect.Routine::getReturnType(): Type 
  instead of string
  (friebe)
- Implemented RFC #0148: Bytes type
  (friebe)

Bugfixes
~~~~~~~~
- Made xarloader::acquire() throw a lang.FormatException in case the
  given file is not a valid XAR archive
  (friebe)
- Fixed bug #28 - MySQLConnection does not honor Port given in DSN
  (Martin Contento, friebe)
- Fixed util.Date's constructor with timestamps
  (doebele, kiesel)
- Fixed wrong date creation in util.Message which created wrong sending
  dates
  (hinckel)
- Fixed newinstance() and create() for fully qualified classes
  (friebe)
- Fixed xml.DomXSLProcessor to produce meaningful error messages in
  case a transformation failed
  (kiesel)
- Fixed text.doclet.markup API to handle sourcecode, preformatted text
  ordered and unordered lists correctly
  (friebe)
- Added mapping for field type double to rdbms.mysql.MySQLDBAdapter
  (hinckel)
- Fixed problems with percent sign (%) substitution in RDBMS API when
  using Criteria or Statement class
  (hinckel)
- Fixed unittest.TestSuite to not report errors if a previously run
  test's setUp() routine failed.
  (friebe)
- Fixed util.Properties::readBool() to return TRUE if any of "1", "yes",
  "true" or "on" is given (see bug #26)
  (friebe)
- Fixed lang.Process to not throw exceptions if non-qualified command
  is given (e.g. new Process('ssh')) by resolving PATH environment
  (friebe)
- Fixed problem with xpcli -c / -cp option conflicting with the run 
  Command class' -c / -cp options
  (friebe)
- Fixed HttpScriptletRequest::getData never read from php://input
  (wagner)

Features
~~~~~~~~
- Added lang.ClassLoader::getLoaders()
  (friebe)
- Made lang.ClassLoader::registerPath() throw an exception in case
  the given path does not exist
  (friebe)
- Made lang.base.php use PHP_INT_MAX for LONG_MIN / LONG_MAX values 
  instead of calculating it manually. Saves on function call.
  (friebe)
- Added security.password package
  (friebe)
- Added ENUM class type to text.doclet API - ClassDoc::isEnum() will return
  true and ClassDoc::classType() will yield ENUM_CLASS if this classdoc 
  object represents a subclass of lang.Enum.
  (friebe)
- Added containingPackage() and contains() methods to PackageDoc class
  (friebe)
- Made io.File constructor accept (string, string) and (Folder, string)
  See http://news.xp-framework.net/article/241/2008/03/24/io.File
  (friebe)
- QA work: Completed / updated apidocs in multiple places
  (friebe)
- Added util.TimeSpan::add(), util.TimeSpan::subtract() methods
  (gellweiler, friebe)
- Added static seconds(), minutes(), hours(), days() and weeks() to
  util.TimeSpan
  (gellweiler, friebe)
- Added rdbms.DBTableAttribute::getLength() accessor - add this 
  information to XML generated from databases via DBXmlGenerator
  (Martin Contento, friebe)
- Added SQL function to week() to extrakt the "week of year" from a
  date field
  (wagner)


Version 5.6.5, released 2007-02-04
----------------------------------
SVN version: 11747

Heads up!
~~~~~~~~~
- Removed deprecated lang.reflect.Argument::isPassedByReference() method
  (friebe)
- Changed cast() core functionality to no longer change the object given,
  throw a lang.ClassCastException in case of errors, throw a 
  lang.ClassNotFoundException in case the given type does not exist,
  no longer support primitives (will result in a lang.IllegalArgumentException)
  and to return xp::null() if NULL is given
  (friebe)

RFCs
~~~~
- Implemented RFC #0152: Arguments vs. Parameters
  (friebe)
- Implemented RFC #0153: HTTP protocol versions
  (friebe)
- Implemented RFC #0151: Runtime class
  (friebe)
- Implemented RFC #0150: Before and after methods for testcases
  (friebe)
- Implemented RFC #0010: Type casts
  (friebe)

Bugfixes
~~~~~~~~
- Fix double utf8 decode in SOAPHTTPTransport::retrieve() by ignoring the
  Content-Type header (XMLParser already determines the encoding and uses
  ISO-8859-1 as default output encoding)
  (hinckel, kiesel)
- Added "static" keyword to System::putEnv() und System::getEnv()
  (hinckel)
- Ensured arguments passed to XSL callbacks are utf8_decode()d and return 
  values are utf8_encode()d
  (friebe)
- Fixed peer.ftp.FtpFile not reloading file details (size, date, permissions,
  ...) after a successfull upload
  (friebe)
- Fixed peer.ftp.FtpDir::findEntry() 
  (gellweiler, kiesel)
- Fixed FTP server API to parse parameters to NLST correctly and report
  directories as single entities if "-d" is given in NLST and LIST
  (gellweiler, friebe)
- Fixed lang.reflect.Proxy to add type hints to generated methods
  (friebe)

Features
~~~~~~~~
- Added "-cp" command line option to xpcli which will add XAR files and
  directories given to it to the classpath
  (friebe)
- Added lang.ClassLoader::registerPath() method
  (friebe)
- Added util.collections.Vector::addAll() method
  (friebe)
- Added optional parameter "hinted" to lang.reflect.Argument::getType()
  with which one can retrieve the type hint's type name.
  (friebe)
- Added lang.reflect.Argument::getDefaultValue() method. In contrast to 
  getDefault() it returns the value as-is (not as a string)
  (friebe)


Version 5.6.4, released 2007-12-25
----------------------------------
SVN version: 11651

Heads up!
~~~~~~~~~
- Removed deprecated rdbms.Criteria::newInstance() method
  (friebe)
- Removed deprecated lang.reflect.Routine::returnsReference() method
  (friebe)
- Refactored unittest.TestSuite/unittest.TestCase for added listener API.
  With these changes, test cases cannot be run on their own but must always
  be added to a suite before - it can run single tests via runTest()
  (friebe)
- An implementation of scriptlet.rpc.AbstractRpcRequest::getMessage()
  must set the message's encoding on it's own now, the router does
  not do this anymore
  (kiesel)
- Removed constant SKELETON_PATH
  (friebe)
- Changed stack trace elements generated from PHP error message to no 
  longer contain the class. The filename cannot really be translated to 
  the fully qualified class name in a consistent *and* fast-enough manner
  (friebe)
- Made util.Properties::fromFile() throw an IOException when the given
  file cannot be read
  (friebe)
- Deprecated lang.archive.ArchiveReader in favor of lang.archive.Archive
  http://news.xp-framework.net/article/226/2007/12/11/ArchiveReader_deprecation
  (friebe)

RFCs
~~~~
- Implemented RFC #0145: Make unittests strict
  (friebe, kiesel)

Bugfixes
~~~~~~~~
- Fixed util.collections.HashSet::addAll() to not change the list if one
  of the array elements is of invalid type
  (friebe)
- Fixed lang.reflect.Routine::getExceptionTypes() always throwing exceptions.
  (friebe)
- Fixed lang.Primitive::boxed() for NULL values
  (friebe)
- Fixed a bug in peer.ldap which occurred when the size-limit for the results
  was exceeded.. 
  (hinckel, doebele)
- Fixed webservices.soap API to fix problem with SOAP clients that send 
  UTF-8 encoded values
  (kiesel)
- Fixed webservices.soap API to properly read timezone from serialized
  SOAP dateTime values and also pass timezone information
  (kiesel)
- Fixed util.Properties class to throw IOExceptions in case the ini file
  cannot be read
  (friebe)
- Fixed lang.archive.ArchiveClassLoader::providesPackage() method
  (friebe)
- Fixed rdbms.util.DBXmlGenerator::getSource() - (bug #25)
  (friebe)
- Fixed security.cert.X509Certificate::getSubjectDN() and
  security.cert.X509Certificate::getIssuerDN() to decode DNs correctly
  (friebe)
- Fixed notices and warnings in various places (E_ALL conformance).
  (friebe)

Features
~~~~~~~~
- Changed raise() functionality to support more than one argument to be
  passed to exception's constructor via varargs
  (kiesel, friebe)
- Made rdbms.DriverManager::register() throw an IllegalArgumentException
  when an incorrect driver class was given
  (friebe)
- Improved performance of lang.types.ArrayList::equals() method
  (friebe)
- Improved performance of XPClass::getFields() and XPClass::getField()
  (friebe)
- Added API to listen to events during a unit test run
  (friebe)
- Made it possible to run multiple unittests at once with the
  unittest cli runner - see "unittest -?" for examples.
  (friebe)
- Added option to choose target encoding in xml.parser.XMLParser with
  the setEncoding() method. Default encoding still is ISO-8859-1.
  (kiesel)
- Added 'd' (diff) instruction to xar command
  (kiesel)
- Added setters for all elements of an URL to peer.URL class
  (kiesel)
- Added support for XARs inside XARs
  (friebe)
- Added lang.ClassLoader::removeLoader() method to complement its
  registerLoader() method.
  (friebe)
- Made lang.archive.ArchiveClassLoader use xar loader provided by
  lang.base.php instead of having to use an extra ArchiveReader class
  (friebe, kiesel)
- Improved performance of xml.XSLCallback class
  (friebe)
- Improved performance of XPClass::getMethods() / XPClass::getMethod() / 
  XPClass::hasMethod() and XPClass::getConstructor() / 
  XPClass::hasConstructor()
  (friebe)


Version 5.6.3, released 2007-11-9
----------------------------------
SVN version: 11393

Heads up!
~~~~~~~~~

RFCs
~~~~

Bugfixes
~~~~~~~~
- Fixed pre-fetching mode in peer.ldap-API
  (friebe, kiesel)
- Fixed scriptlet.xml.workflow.casters.ToDate which was accepting 
  when it encountered empty input (unittest said it shouldn't)
  (friebe)
- Fixed DomXSLProcessor::determineOutputEncoding() to handle absolute
  URIs in xsl:include/xsl:import hrefs correctly
  (friebe)
- Fixed DomXSLProcessor::determineOutputEncoding() to return the output
  encoding declared in imported XSL files using <xsl:import/>
  (friebe, hinckel)
- Fixed lang.ClassLoader::defineInterface() and defineClass() methods
  (kiesel)
- Fixed use of undefined variables in lang.Primitive,
  lang.types.ArrayList and lang.types.String
  (kiesel)
- Fixed LDAPClient::read() method
  (kiesel)
- Ports: Fixed Nagios Heartbeat adding two dots between unqualified host
  name and domain (e.g. example..1and1.com where example is the host name)
  (hinckel, doebele)

Features
~~~~~~~~


Version 5.6.2, released 2007-11-21
----------------------------------
SVN version: 11353

Heads up!
~~~~~~~~~
- Removed deprecated xml.XSLProcessor class
  (friebe)
- Changed img.util.IptcData::setDateCreated() to accept and 
  img.util.IptcData::getDateCreated() to return util.Date instances
  (friebe)
- The directories "experiments", "ports/dist" and several project-
  specific classes from ports/classes have been moved to the XPForge
  repository - http://xp-framework.info/xml/xp.en_US/news/view?217
  (friebe)

RFCs
~~~~
- Implemented RFC #0143: Image metadata API enhancements
  (friebe)
- Implemented RFC #0139: XPForge SVN
  (friebe, kiesel)
- Implemented RFC #0141: FTP Transfer listening
  (friebe)
- Implemented RFC #0142: I/O Streams to PHP streams wrapper
  (friebe)
- Implemented RFC #0140: FTP API enhancements
  (friebe)
- Implemented RFC #0138: Additional interceptor callbacks in 
  peer.ftp.server
  (gellweiler)

Bugfixes
~~~~~~~~
- Fixed peer.mail.Message which set the Date of the message via
  Date::now()->toString(). Since the default behaviour of toString
  was changed with the new date object this led to a non rfc-conform
  date in the mail header.
  (hinckel, doebele)
- Work around PHP bug #43206 by using date_time_set / date_date_set
  in util.DateUtil instead of Date::getTimeZone().
  (clang)
- Fix XPSoapMessage::_recurseData() to return array keys without ":" in
  case a namespace is included in node name
  (hinckel)
- Fixed xp::sapi() when using XAR-releases on Windows
  (friebe)
- Added support for field type tinytext, mediumblob and bit to
  rdbms.mysql.MySQLDBAdapter
  (wagner, hinckel)
- Ensured file is only then closed in io.streams.FileOutputStream's 
  destructor if it's still open
  (friebe)
- scriptlet.xml.workflow.casters.ToDate now uses the constructor of 
  the util.Date object for parsing the date string instead of 
  text.parser.DateParser. The DateParser led to erroneous results.
  (doebele)
- Fixed a bug which prevented dataset objects from joins to 
  build correctly
  (doebele)
- Fixed bug in parsing of keywords and supplementalCategories in 
  img.util.IptcData which would return only the first element
  (friebe)
- Fixed bug in peer.mail.store.ImapStore where one could not disable
  checking the validity of a certificate
  (doebele, kiesel)
- Fixed assumption of port numbers in peer.http.HttpRequest when no 
  port number is given.
  (friebe, gelli)
 
Features
~~~~~~~~
- Added tell() method to io.streams.Seekable interface and its
  implementations to complement seek()
  (friebe)
- Made XMLScriptlets use the XSL processor's output encoding in their
  Content-Type response header
  (friebe)
- text.parser.DateParser makes use of parser capabilities of php.DateTime
  (kiesel)
- util.Date objects preserve GMT offset after deserialization
  (kiesel, friebe, hinckel)
- added getOffset(), getOffsetInSeconds() methods to util.Date
  (kiesel)
- Extract FocalLength from EXIF data in img.util.ExifData class
  (friebe)
- Implemented peer.ldap.LDAPSearchResult in a way that will read
  incrementally instead of fetching everything when constructed
  (gellweiler)
- Ensured dateinterval type argument to DateMath::diff() is passed in 
  uppercase in XSL date callback
  (gellweiler)


Version 5.6.1, released 2007-09-25
----------------------------------
SVN version: 11068

Heads up!
~~~~~~~~~
- The serialization format of util.Date has changed along with
  RFC #0115 (see below).

RFCs
~~~~
- Implemented RFC #0115 - Make Date objects represent an instance in time
  (kiesel, friebe)
- Implemented RFC #0135 - Default callbacks for XSLT (2nd part)
  (kiesel)

Bugfixes
~~~~~~~~
- Fixed util.collections.HashSet iteration via foreach()
  (friebe)
- Reverted bugfix in text.CSVGenerator
  (kiesel)

Features
~~~~~~~~
- Made forward-compatible changes to core classes to ease migration to
  XP6 (which makes use of PHP namespaces, see RFC #0136)
  (friebe)
- Ports: new package org.cyrus - Cyrus IMAP admin functionality
  (kiesel)


Version 5.6.0, released 2007-08-29
----------------------------------
SVN version: 10991

Heads up!
~~~~~~~~~
- Generics create() syntax changes
  http://xp-framework.info/xml/xp.en_US/news/view?208
  (friebe)
- util.ChainedException is now lang.ChainedException
  http://xp-framework.info/xml/xp.en_US/news/view?209
  (friebe)

RFCs
~~~~
- Implemented RFC #0097 - TargetInvocationException
  (friebe)
- Implemented RFC #0132 - Enum support
  (friebe)
- Implemented RFC #0133 - Add support for filenames as argument for XPCLI
  (friebe)
- Implemented RFC #0135 - Default callbacks for XSLT
  (kiesel)
  
Bugfixes
~~~~~~~~~
- Fixed duplicate redirect in scriptlet API when used with sessions
  (friebe)
- Fix remote.protocol.Serializer bug in best mapping finding
  algorithm
  (Frank Kleine, kiesel)
- Fix deserialization of objects of XP types
  (kiesel)
- Fixed util.collections.HashTable::get(), ::remove() and ::containsKey()
  if used with generics / primitives
  (gellweiler, friebe)
- Fixed "Record is not compatible with DataSet" when using rdbms.Statement
  as criteria with doSelect() / iteratorFor()
  (wagner)

Features
~~~~~~~~
- Added new packaged remote.mappings for specialized Java classes
  (strobel)


Version 5.5.5, released 2007-07-19
----------------------------------
SVN version: 10833

- Fixed Dataset::insert() if object values contain % signs.
  (wagner)
- Made rdbms.DBConnection::addObserver() return the observer added
  (friebe)
- Added methods to LDAPClient to perform entry modifications at the 
  attribute level.
  (gelli)
- Implemented RFC #131 - SetOperation and Query
  (wagner)

Version 5.5.4, released 2007-07-09
----------------------------------
SVN version: 10764

- Unbreak peer.irc-API with PHP5
  (kiesel)
- Fix fatal error in XPClass::newInstance() when class represented is
  abstract or an interface - now throws lang.IllegalAccessExceptions
  (friebe)
- Changed EASC protocol representation of Enums (BC-break-free)
  (friebe)
- Added GIF support to org.fpdf.FPDF class' putImage() method
  (friebe)
- make util.cmd.Runner output errors and usage to STDERR
  (kiesel)

Version 5.5.3, released 2007-06-26
----------------------------------
SVN version: 10665

- Protect Base57 encoding and decoding against possibly inccorrect results 
  if EG(precision) is too small
  (friebe)
- Make socket_select() work properly when interrupted by signals
  (sperber)
- Fixed exception handler in SAPI soap.service
  (kiesel)
- Implemented sql function and projections for postgreSQL and sqllite
  (wagner)

Version 5.5.2, released 2007-06-15
----------------------------------
SVN version: 10632

- Fixed DomXSLProcessor's error handling only to throw exceptions for
  LIBXML_ERR_FATAL level
  (friebe, gellweiler)
- Improved performance of img.filter.ConvolveFilter - use builtin
  imageconvolution() function if available
- Fixed bug in io.sys.IPCQueue::removeQueue() which lead to the queue 
  not being removed
  (friebe)
- Implemented RFC #0130 - util.HashmapIterator returns values instead of keys
  (friebe)
- Made TransformerException's message more verbose in DomXSLProcessor 
  (friebe, gellweiler, clang)
- Implemented RFC #0096 - DataSet classes will be enhanced to know about 
  foreign keys (wagner)
- Implemented RFC #0123 - aggregate or cut down the query's resultset
  (wagner)
- Implemented RFC #0124 - SQL standard functions
  (wagner)
- Implemented RFC #0129 - join over multiple tables
  (wagner)

Version 5.5.1, released 2007-06-01
----------------------------------
SVN version: 10476

- Fixed bug #9 - peer.mail.InternetAddress not correctly encoding addresses
  (friebe)
- Fixed bug #8 - HttpRequest ignores QUERY_STRING
  (friebe)
- Fixed bug #14 - create empty Folder returns TRUE
  (friebe)
- Fixed bug #20 - util.collections.DJBX33AHashImplementation broken on 
  64 bit systems (resolved by using MD5HashImplementation)
  (friebe)
- Implemented RFC #0063: Unit test API cleanup
  (friebe)
- Implemented RFC #0031: Replace IntegerRangeChecker with NumberRangeChecker
  (friebe)
- Implemented RFC #0060: LDAPEntry::isA()
  (friebe)

Version 5.5.0, released 2007-05-21
----------------------------------
SVN version: 10411

- Implemented RFC #0128: webservices.xmlrpc handling of NULL
  (gellweiler)
- Fix fatal error when ext/soap is enabled (name clash for class SoapFault)
  (kiesel)
- Prevent error leaks from libxml in DomXslProcessor class
  (kiesel)
- Fix possible endless loop in util.HashmapIterator class
  (wagner)
- Implemented RFC #0126: rdbms.Column API
  (wagner)
- Added support for foreach() iteration to I/O collection iterator classes
  (friebe)
- Fix bug when class could not be found in bootstrapping
  (kiesel)
- Implemented RFC #0127: rdbms.Peer::getConnection()
  (friebe)
- Added new text.StreamTokenizer class
  (friebe)
- Implemented RFC #0121: Class loading revamp
  (friebe)
- Implemented RFC #0117: New Package class
  (friebe)
- Implemented RFC #0037: Ability to fully qualify class names
  (friebe)
- Implemented RFC #0125: Fluent interface for util.log.LogCategory
  (friebe)
- Add SQLiteDBAdapter class
  (kiesel)
- Fix several minor issues in SQLiteConnection class
  (kiesel)

Version 5.4.1, released 2007-05-04
----------------------------------
SVN version: 10196

- Fix bug with recursive uses() calls fatalling
  (friebe)
- Implemented RFC #0122 - Make handlers cancelable
  (kiesel)
- Implemented RFC #0106 - Array access / iteration / type boxing / generics 
  (friebe)
- Fix output of stacktraces in util.ChainedException
  (kiesel)
- Fix DomXSLProcessor's error handling by clearing the error stack when
  error was handled
  (hinckel)
- Implemented RFC #0120 - Console::$out and Console::$err
  (friebe)
- Properly detect identity columns in rdbms.sybase.SybaseDBAdapter
  (kiesel)
- Fixed bug with io.File when reading from zero-length files
  (kiesel)
- add @args annotation for util.cmd.Command scripts (fixes bug #23)
  (friebe, kiesel)
- fix extraction of .xar files on Windows (fixes bug #22)
  (friebe)

Version 5.4.0, released 2007-04-18
----------------------------------
SVN version: 10031

- Implemented RFC #0113 - Include PHP5 SOAP extension
  (kiesel, rene)
- Implemented RFC #0118 - Exceptions for missing token values in 
  StatementFormatter
  (friebe)
- Implemented RFC #0081 - new lang.Runnable interface
  (friebe)
- Fixed rdbms.StatementFormatter class when given an array of objects
  to format, e.g. array(Date::now(), DateUtil::addDays(Date::now(), 1)).
  In certain situations, this would even cause segmentation faults!
  (friebe)

Version 5.3.2, released 2007-04-01
----------------------------------
SVN version: 9830

- Implemented RFC #0111 - Remove "util" and "ext"
  (friebe)
- Implemented RFC #0116 - Ports infrastructure: Technologies and packages
  (friebe, kiesel)
- Added support for XML namespaces to xml.meta Marshaller / Unmarshaller
  (friebe)
- Fixed peer.mail.store.CclientStore (ext/imap wrapper) implementation 
  which was broken due to PHP5 BC breaks
  (friebe)
- Implemented RFC #0112 - HttpScriptletException inherits ChainedException
  (kiesel)
- Implemented RFC #0110 - RemoteStackTraceElement
  (friebe)
- Fix error "Call to protected method SOAPNode::_recurse()" in class
  SOAPHashMap
  (clang, hinckel)

Version 5.3.1, released 2007-02-27
----------------------------------
SVN version: 9510

- Fixed header handling for multiple headers with same name in scriptlet API 
  (gelli)
- Changed various classes to use type hints instead of manual instanceof/
  IllegalArgumentException code
  (friebe)
- Improve DomXSLProcessor's error handling
  (kiesel)
- Fix FTP directory listing in FtpConnectionListener to display centure
  correctly
  (hinckel)
- Adapt xml.meta.Unmarshaller::contentOf() to new DOM API of PHP5 to handle
  "pass" attribute in "xmlmapping" annotation correctly
  (hinckel, strobel)
- Fix unbuffered queries on MySQLConnections
  (gelli)
- Fix copy and unset of duplicate subjects in MailTransport
  (clang)
- FTP server can intercept CWD calls
  (kiesel, hinckel)

Version 5.3.0, released 2007-02-01
----------------------------------
SVN version: 9422

- Make xpcli show self-usage if invoked without any arguments
  (friebe)
- Implemented RFC #0100 - IllegalArgumentException for Type hints
  (friebe)
- Made VCalendar API in the org.imc-package work with Microsoft Outlook
  (doebele)
- Add ability to use log=<category> in the Remote DSN for logging
  in the same it is done in database connection DSNs
  (hinckel)
- Changed lang.reflect.Argument::isOptional() to also work when no 
  apidoc comment exists.
  (friebe)
- Added support for ENUM type to MySQLDBAdapter
  (friebe, doebele)
- Implemented RFC #0069 - EASC server in php
  (gelli)
- Implemented RFC #0076 - Transfer exception cause, on the PHP server 
  side (previously only implemented in PHP client and Java server)
  (friebe)
- Fixed peer.mail.store.ImapStore::_supports() method
  (kiesel)
- Fixed peer.mail.transport.SmtpTransport class
  (doebele)
- Implemented RFC #0099 - New rdbms.finder API
  (friebe)

Version 5.2.0, released 2007-01-17
----------------------------------
SVN version: 9322

- Replace deprecated is_a() with instanceof operator in core
  (kiesel)
- Made rdbms.Criteria usable in a fluent interface way
  (e.g. $c= Criteria::newInstance()->add('bz_id', 500, EQUAL)->add(...);
  (friebe)
- Implemented RFC #0107 (Generic acccess to rdbms.Peer/rdbms.DataSet)
  (friebe)
- Use stream wrapper loading for loadClass() in class
  lang.archive.ArchiveClassLoader
  (kiesel)
- Implemented RFC #0083: Define classes through stream wrappers
  (kiesel)
- Deprecated xml.XSLProcessor - use xml.DomXSLProcessor instead
  Sablotron was removed from ext in PHP5 (in Version 5.0.0 Beta 1
  on 29-Jun-2003, ChangeLog states: "Completely Overhauled XML 
  support ... Moved the old DOM-XML and XSLT extensions to PECL")
  Neither PECL nor PECL4Win show any trace of ext/xslt extension 
  anymore, though.
  (friebe)
- Changed xml.XMLScriptlet to use xml.DomXSLProcessor
  (friebe)

Version 5.1.2, released 2007-01-10
----------------------------------
SVN version: 9224

- Made rdbms.DataSet class abstract
  (friebe)
- Fix static initializer not being called for classes loaded via 
  uses wrapper 
  (friebe)
- Implemented RFC #0105: Package-Info
  (friebe)
- Fix setBase() when working with in-memory stylesheets
  (clang)
- Fix "Static function DataSet::getPeer() should not be abstract"
  in rdbms.DataSet
  (friebe)

Version 5.1.1, released 2007-01-04
----------------------------------
SVN version: 9114

- Make arbitrary request headers available in CGI sapi
  (kiesel)
- Implement more stream wrapper functions in XpXarLoader, providing a
  more complete stream wrapper support (file_exists now works)
  (kiesel)
- Fix addRecipient() method in peer.mail.Message
  (kiesel)
- Make xml.DomXSLProcessor::setBase() work again
  (kiesel)
- Show class' apidoc comment in xpcli --help|-?
  (friebe)
- Added lang.XPClass::getComment()
  (friebe)
- Added lang.reflect.Field::getModifiers()
  (friebe)
- Added lang.reflect.Modifiers utility class
  (friebe)
- Made CLI sapi print uncaught exceptions to STDERR
  (friebe)
- Made Doclet API parse XP5 syntax
  (friebe)
- Exclude replication tables from SybaseDBAdapter::getTables()
  (friebe)
- Implemented RFC #0104: Add XSLCallback class and provide support 
  for calling PHP functions from within XSL
  (kiesel)

Version 5.1.0, released 2006-12-28
----------------------------------
SVN version: 9007

- Implemented RFC #0103: Coding standards adjustements for XP5
  (friebe)
- Implemented RFC #0102: XP Class Runner
  (friebe)
- Implemented RFC #0088: Streams API
  (friebe)
- Updated SQLite class to use StatementFormatter
  (kiesel)
- Added webservices.soap.types.SOAPDouble class
  (strobel)
- Fixed util.Properties to return an empty array from readArray()
  for an empty string such as values=""
  (friebe)
- Fixed Java Webstart example to work with URLs containing query string
  arguments
  (friebe)

Version 5.0.0, released 2006-12-21
----------------------------------
SVN version: 8943

- fix reflection for classes from .xars
  (kiesel)
- implemented RFC #0092 (migrated to PHP5)
  (all)
  
Version 4.1.3, released 2006-12-18
----------------------------------
SVN version: 8875

- Fix (De-)Serializer bug in remote package
  (kiesel)
- Add SQLConnectionClosedException in rdbms package for mysql
  (gelli)
- Fix several bugs in DBAdapter API
  (rene)
- Add method hasProperties() to util.PropertyManager
  (friebe)
  
Version 4.1.2, released 2006-12-05
----------------------------------
SVN version: 8753

- Implemented RFC #0090 - "Refactor remote.protocol.Serializer"
  (friebe)
- Added setConnectTimeout() to peer.http.HttpConnection
  (kiesel)


Version 4.1.1, released 2006-11-28
----------------------------------
SVN version: 8688

- Fixed xp::sapi() to correctly load sapis from XARs.
  (kiesel)

- Build stacktrace elements in toString() output in a more
  defensive way. In cases where exceptions are thrown, arguments 
  of a function call in the debug_backtrace() array might already
  be destructed and their types are no longer known. The builtin
  gettype() function can handle those.
  Just casting those arguments to string will result in memory overflow
  fatal errors or segfaults like these:
  FATAL:  emalloc():  Unable to allocate 3238256257 bytes
  (kiesel)


Version 4.1.0, released 2006-11-27
----------------------------------
SVN version: 8679

- Implemented RFC #0080 - "Anonymous class creation"
  (friebe)
  

Version 4.0.0, released 2006-11-20
----------------------------------
SVN version: 8506

- Implemented RFC #0084 - "Packages cleanup"
  (friebe)
